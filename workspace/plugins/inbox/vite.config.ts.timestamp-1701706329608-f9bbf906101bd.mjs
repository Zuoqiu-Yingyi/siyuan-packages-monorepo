// vite.config.ts
import deepmerge from "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js";
import { defineConfig as defineConfig2 } from "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/vite@5.0.5_less@4.2.0/node_modules/vite/dist/node/index.js";

// vite.share.config.ts
import { defineConfig } from "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/vite@5.0.5_less@4.2.0/node_modules/vite/dist/node/index.js";
import { resolve } from "node:path";
import { svelte } from "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/@sveltejs+vite-plugin-svelte@3.0.1_svelte@4.2.8_vite@5.0.5/node_modules/@sveltejs/vite-plugin-svelte/src/index.js";
import { less } from "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/svelte-preprocess-less@0.4.0/node_modules/svelte-preprocess-less/out/index.js";
var __vite_injected_original_dirname = "D:\\Sync\\GitHub\\siyuan-packages-monorepo\\workspace\\plugins\\inbox";
var vite_share_config_default = defineConfig({
  base: `./`,
  plugins: [
    svelte({
      preprocess: {
        style: less()
      }
    })
  ],
  resolve: {
    alias: {
      "~": resolve(__vite_injected_original_dirname, "./"),
      "@": resolve(__vite_injected_original_dirname, "./src")
    }
  },
  build: {
    minify: true,
    // sourcemap: "inline",
    emptyOutDir: false,
    copyPublicDir: false,
    rollupOptions: {
      external: [
        "siyuan",
        /^@electron\/.*$/
      ],
      output: {
        entryFileNames: (entryInfo) => {
          switch (entryInfo.name) {
            default:
              return "assets/[name]-[hash].js";
          }
        },
        chunkFileNames: (chunkInfo) => {
          switch (chunkInfo.name) {
            default:
              return "chunks/[name]-[hash].js";
          }
        },
        assetFileNames: (assetInfo) => {
          switch (assetInfo.name) {
            default:
              return "assets/[name]-[hash][extname]";
          }
        }
      }
    }
  }
});

// vite.plugin.config.ts
import "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/vite@5.0.5_less@4.2.0/node_modules/vite/dist/node/index.js";
import { resolve as resolve2 } from "node:path";
var __vite_injected_original_dirname2 = "D:\\Sync\\GitHub\\siyuan-packages-monorepo\\workspace\\plugins\\inbox";
var vite_plugin_config_default = {
  plugins: [],
  build: {
    emptyOutDir: true,
    copyPublicDir: true,
    lib: {
      entry: resolve2(__vite_injected_original_dirname2, "src/index.ts"),
      fileName: "index",
      formats: ["cjs"]
    },
    rollupOptions: {
      input: {
        index: resolve2(__vite_injected_original_dirname2, "src/index.ts")
      },
      output: {
        entryFileNames: (chunkInfo) => {
          switch (chunkInfo.name) {
            case "index":
              return "[name].js";
            default:
              return "assets/[name]-[hash].js";
          }
        },
        assetFileNames: (assetInfo) => {
          switch (assetInfo.name) {
            case "style.css":
            case "index.css":
              return "index.css";
            default:
              return "assets/[name]-[hash][extname]";
          }
        }
      }
    }
  }
};

// vite.apps.config.ts
import "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/vite@5.0.5_less@4.2.0/node_modules/vite/dist/node/index.js";
import { resolve as resolve3 } from "node:path";
import vue from "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/@vitejs+plugin-vue@4.5.1_vite@5.0.5_vue@3.3.10/node_modules/@vitejs/plugin-vue/dist/index.mjs";
import { viteStaticCopy } from "file:///D:/Sync/GitHub/siyuan-packages-monorepo/workspace/node_modules/.pnpm/vite-plugin-static-copy@0.16.0_vite@5.0.5/node_modules/vite-plugin-static-copy/dist/index.js";
var __vite_injected_original_dirname3 = "D:\\Sync\\GitHub\\siyuan-packages-monorepo\\workspace\\plugins\\inbox";
var vite_apps_config_default = {
  plugins: [
    vue({
      template: {
        compilerOptions: {
          // REF: https://www.npmjs.com/package/vue-advanced-chat#vue
          isCustomElement: (tag) => {
            switch (tag) {
              case "vue-advanced-chat":
              case "emoji-picker":
                return true;
              default:
                return false;
            }
          }
        }
      }
    }),
    viteStaticCopy({
      targets: [
        /* emoji-picker-element-data */
        {
          src: "./node_modules/emoji-picker-element-data/zh/cldr/data.json",
          dest: "./libs/emoji-picker-element-data/zh-Hans/cldr/"
          // rename: "data.json",
        },
        {
          src: "./node_modules/emoji-picker-element-data/zh-hant/cldr/data.json",
          dest: "./libs/emoji-picker-element-data/zh-Hant/cldr/"
          // rename: "data.json",
        },
        {
          src: "./node_modules/emoji-picker-element-data/en/cldr/data.json",
          dest: "./libs/emoji-picker-element-data/en/cldr/"
          // rename: "data.json",
        }
      ]
    })
  ],
  build: {
    rollupOptions: {
      input: {
        inbox: resolve3(__vite_injected_original_dirname3, "./apps/inbox.html")
      }
    }
  }
};

// vite.config.ts
var vite_config_default = defineConfig2(async (env) => {
  var config;
  switch (env.mode) {
    case "apps":
      config = deepmerge.all([vite_share_config_default, vite_apps_config_default]);
      break;
    case "plugin":
    default:
      config = deepmerge.all([vite_share_config_default, vite_plugin_config_default]);
      break;
  }
  return config;
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAidml0ZS5zaGFyZS5jb25maWcudHMiLCAidml0ZS5wbHVnaW4uY29uZmlnLnRzIiwgInZpdGUuYXBwcy5jb25maWcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJEOlxcXFxTeW5jXFxcXEdpdEh1YlxcXFxzaXl1YW4tcGFja2FnZXMtbW9ub3JlcG9cXFxcd29ya3NwYWNlXFxcXHBsdWdpbnNcXFxcaW5ib3hcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIkQ6XFxcXFN5bmNcXFxcR2l0SHViXFxcXHNpeXVhbi1wYWNrYWdlcy1tb25vcmVwb1xcXFx3b3Jrc3BhY2VcXFxccGx1Z2luc1xcXFxpbmJveFxcXFx2aXRlLmNvbmZpZy50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vRDovU3luYy9HaXRIdWIvc2l5dWFuLXBhY2thZ2VzLW1vbm9yZXBvL3dvcmtzcGFjZS9wbHVnaW5zL2luYm94L3ZpdGUuY29uZmlnLnRzXCI7LyoqXHJcbiAqIENvcHlyaWdodCAoQykgMjAyMyBadW9xaXUgWWluZ3lpXHJcbiAqIFxyXG4gKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhc1xyXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGVcclxuICogTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuICogXHJcbiAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKiBcclxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKi9cclxuXHJcbmltcG9ydCBkZWVwbWVyZ2UgZnJvbSBcImRlZXBtZXJnZVwiO1xyXG5pbXBvcnQgeyBkZWZpbmVDb25maWcsIFVzZXJDb25maWcgfSBmcm9tIFwidml0ZVwiO1xyXG5cclxuaW1wb3J0IHZpdGVTaGFyZUNvbmZpZyBmcm9tIFwiLi92aXRlLnNoYXJlLmNvbmZpZ1wiO1xyXG5pbXBvcnQgdml0ZVBsdWdpbkNvbmZpZyBmcm9tIFwiLi92aXRlLnBsdWdpbi5jb25maWdcIjtcclxuaW1wb3J0IHZpdGVBcHBzQ29uZmlnIGZyb20gXCIuL3ZpdGUuYXBwcy5jb25maWdcIjtcclxuXHJcbi8vIGh0dHBzOi8vdml0ZWpzLmRldi9jb25maWcvXHJcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyhhc3luYyBlbnYgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coZW52KTtcclxuICAgIHZhciBjb25maWc6IFVzZXJDb25maWc7XHJcblxyXG4gICAgc3dpdGNoIChlbnYubW9kZSkge1xyXG4gICAgICAgIGNhc2UgXCJhcHBzXCI6XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IGRlZXBtZXJnZS5hbGw8VXNlckNvbmZpZz4oW3ZpdGVTaGFyZUNvbmZpZywgdml0ZUFwcHNDb25maWddKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJwbHVnaW5cIjpcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25maWcgPSBkZWVwbWVyZ2UuYWxsPFVzZXJDb25maWc+KFt2aXRlU2hhcmVDb25maWcsIHZpdGVQbHVnaW5Db25maWddKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coY29uZmlnKTtcclxuICAgIHJldHVybiBjb25maWc7XHJcbn0pO1xyXG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIkQ6XFxcXFN5bmNcXFxcR2l0SHViXFxcXHNpeXVhbi1wYWNrYWdlcy1tb25vcmVwb1xcXFx3b3Jrc3BhY2VcXFxccGx1Z2luc1xcXFxpbmJveFwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiRDpcXFxcU3luY1xcXFxHaXRIdWJcXFxcc2l5dWFuLXBhY2thZ2VzLW1vbm9yZXBvXFxcXHdvcmtzcGFjZVxcXFxwbHVnaW5zXFxcXGluYm94XFxcXHZpdGUuc2hhcmUuY29uZmlnLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9EOi9TeW5jL0dpdEh1Yi9zaXl1YW4tcGFja2FnZXMtbW9ub3JlcG8vd29ya3NwYWNlL3BsdWdpbnMvaW5ib3gvdml0ZS5zaGFyZS5jb25maWcudHNcIjsvKipcclxuICogQ29weXJpZ2h0IChDKSAyMDIzIFp1b3FpdSBZaW5neWlcclxuICogXHJcbiAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzXHJcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZVxyXG4gKiBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKiBcclxuICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcbiAqIFxyXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuICogYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSBcInZpdGVcIjtcclxuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gXCJub2RlOnBhdGhcIjtcclxuaW1wb3J0IHsgc3ZlbHRlIH0gZnJvbSBcIkBzdmVsdGVqcy92aXRlLXBsdWdpbi1zdmVsdGVcIjtcclxuaW1wb3J0IHsgbGVzcyB9IGZyb20gXCJzdmVsdGUtcHJlcHJvY2Vzcy1sZXNzXCI7XHJcblxyXG4vLyBodHRwczovL3ZpdGVqcy5kZXYvY29uZmlnL1xyXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoe1xyXG4gICAgYmFzZTogYC4vYCxcclxuICAgIHBsdWdpbnM6IFtcclxuICAgICAgICBzdmVsdGUoe1xyXG4gICAgICAgICAgICBwcmVwcm9jZXNzOiB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZTogbGVzcygpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pLFxyXG4gICAgXSxcclxuICAgIHJlc29sdmU6IHtcclxuICAgICAgICBhbGlhczoge1xyXG4gICAgICAgICAgICBcIn5cIjogcmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi9cIiksXHJcbiAgICAgICAgICAgIFwiQFwiOiByZXNvbHZlKF9fZGlybmFtZSwgXCIuL3NyY1wiKSxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYnVpbGQ6IHtcclxuICAgICAgICBtaW5pZnk6IHRydWUsXHJcbiAgICAgICAgLy8gc291cmNlbWFwOiBcImlubGluZVwiLFxyXG4gICAgICAgIGVtcHR5T3V0RGlyOiBmYWxzZSxcclxuICAgICAgICBjb3B5UHVibGljRGlyOiBmYWxzZSxcclxuICAgICAgICByb2xsdXBPcHRpb25zOiB7XHJcbiAgICAgICAgICAgIGV4dGVybmFsOiBbXHJcbiAgICAgICAgICAgICAgICBcInNpeXVhblwiLFxyXG4gICAgICAgICAgICAgICAgL15AZWxlY3Ryb25cXC8uKiQvLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBvdXRwdXQ6IHtcclxuICAgICAgICAgICAgICAgIGVudHJ5RmlsZU5hbWVzOiBlbnRyeUluZm8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVudHJ5SW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlbnRyeUluZm8ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXNzZXRzL1tuYW1lXS1baGFzaF0uanNcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2h1bmtGaWxlTmFtZXM6IGNodW5rSW5mbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2h1bmtJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rSW5mby5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjaHVua3MvW25hbWVdLVtoYXNoXS5qc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhc3NldEZpbGVOYW1lczogYXNzZXRJbmZvID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjaHVua0luZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXNzZXRJbmZvLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFzc2V0cy9bbmFtZV0tW2hhc2hdW2V4dG5hbWVdXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxufSk7XHJcbiIsICJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiRDpcXFxcU3luY1xcXFxHaXRIdWJcXFxcc2l5dWFuLXBhY2thZ2VzLW1vbm9yZXBvXFxcXHdvcmtzcGFjZVxcXFxwbHVnaW5zXFxcXGluYm94XCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCJEOlxcXFxTeW5jXFxcXEdpdEh1YlxcXFxzaXl1YW4tcGFja2FnZXMtbW9ub3JlcG9cXFxcd29ya3NwYWNlXFxcXHBsdWdpbnNcXFxcaW5ib3hcXFxcdml0ZS5wbHVnaW4uY29uZmlnLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9EOi9TeW5jL0dpdEh1Yi9zaXl1YW4tcGFja2FnZXMtbW9ub3JlcG8vd29ya3NwYWNlL3BsdWdpbnMvaW5ib3gvdml0ZS5wbHVnaW4uY29uZmlnLnRzXCI7LyoqXHJcbiAqIENvcHlyaWdodCAoQykgMjAyMyBadW9xaXUgWWluZ3lpXHJcbiAqIFxyXG4gKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhc1xyXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGVcclxuICogTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuICogXHJcbiAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKiBcclxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFVzZXJDb25maWcgfSBmcm9tIFwidml0ZVwiO1xyXG5pbXBvcnQgeyByZXNvbHZlIH0gZnJvbSBcIm5vZGU6cGF0aFwiO1xyXG5cclxuLy8gaHR0cHM6Ly92aXRlanMuZGV2L2NvbmZpZy9cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcGx1Z2luczogW1xyXG4gICAgXSxcclxuICAgIGJ1aWxkOiB7XHJcbiAgICAgICAgZW1wdHlPdXREaXI6IHRydWUsXHJcbiAgICAgICAgY29weVB1YmxpY0RpcjogdHJ1ZSxcclxuICAgICAgICBsaWI6IHtcclxuICAgICAgICAgICAgZW50cnk6IHJlc29sdmUoX19kaXJuYW1lLCBcInNyYy9pbmRleC50c1wiKSxcclxuICAgICAgICAgICAgZmlsZU5hbWU6IFwiaW5kZXhcIixcclxuICAgICAgICAgICAgZm9ybWF0czogW1wiY2pzXCJdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm9sbHVwT3B0aW9uczoge1xyXG4gICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IHJlc29sdmUoX19kaXJuYW1lLCBcInNyYy9pbmRleC50c1wiKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb3V0cHV0OiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeUZpbGVOYW1lczogY2h1bmtJbmZvID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjaHVua0luZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmtJbmZvLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluZGV4XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJbbmFtZV0uanNcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhc3NldHMvW25hbWVdLVtoYXNoXS5qc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhc3NldEZpbGVOYW1lczogYXNzZXRJbmZvID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjaHVua0luZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXNzZXRJbmZvLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0eWxlLmNzc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5kZXguY3NzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJpbmRleC5jc3NcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhc3NldHMvW25hbWVdLVtoYXNoXVtleHRuYW1lXVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbn0gYXMgVXNlckNvbmZpZztcclxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJEOlxcXFxTeW5jXFxcXEdpdEh1YlxcXFxzaXl1YW4tcGFja2FnZXMtbW9ub3JlcG9cXFxcd29ya3NwYWNlXFxcXHBsdWdpbnNcXFxcaW5ib3hcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIkQ6XFxcXFN5bmNcXFxcR2l0SHViXFxcXHNpeXVhbi1wYWNrYWdlcy1tb25vcmVwb1xcXFx3b3Jrc3BhY2VcXFxccGx1Z2luc1xcXFxpbmJveFxcXFx2aXRlLmFwcHMuY29uZmlnLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9EOi9TeW5jL0dpdEh1Yi9zaXl1YW4tcGFja2FnZXMtbW9ub3JlcG8vd29ya3NwYWNlL3BsdWdpbnMvaW5ib3gvdml0ZS5hcHBzLmNvbmZpZy50c1wiOy8qKlxyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMjMgWnVvcWl1IFlpbmd5aVxyXG4gKiBcclxuICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXNcclxuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlXHJcbiAqIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAqIFxyXG4gKiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICogXHJcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG4gKiBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuICovXHJcblxyXG5pbXBvcnQgeyBVc2VyQ29uZmlnIH0gZnJvbSBcInZpdGVcIjtcclxuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gXCJub2RlOnBhdGhcIjtcclxuXHJcbmltcG9ydCB2dWUgZnJvbSAnQHZpdGVqcy9wbHVnaW4tdnVlJztcclxuaW1wb3J0IHsgdml0ZVN0YXRpY0NvcHkgfSBmcm9tIFwidml0ZS1wbHVnaW4tc3RhdGljLWNvcHlcIjtcclxuXHJcbi8vIGh0dHBzOi8vdml0ZWpzLmRldi9jb25maWcvXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHBsdWdpbnM6IFtcclxuICAgICAgICB2dWUoe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZToge1xyXG4gICAgICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUkVGOiBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS92dWUtYWR2YW5jZWQtY2hhdCN2dWVcclxuICAgICAgICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQ6IHRhZyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidnVlLWFkdmFuY2VkLWNoYXRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbW9qaS1waWNrZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdml0ZVN0YXRpY0NvcHkoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBbXHJcbiAgICAgICAgICAgICAgICAvKiBlbW9qaS1waWNrZXItZWxlbWVudC1kYXRhICovXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBcIi4vbm9kZV9tb2R1bGVzL2Vtb2ppLXBpY2tlci1lbGVtZW50LWRhdGEvemgvY2xkci9kYXRhLmpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICBkZXN0OiBcIi4vbGlicy9lbW9qaS1waWNrZXItZWxlbWVudC1kYXRhL3poLUhhbnMvY2xkci9cIixcclxuICAgICAgICAgICAgICAgICAgICAvLyByZW5hbWU6IFwiZGF0YS5qc29uXCIsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNyYzogXCIuL25vZGVfbW9kdWxlcy9lbW9qaS1waWNrZXItZWxlbWVudC1kYXRhL3poLWhhbnQvY2xkci9kYXRhLmpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICBkZXN0OiBcIi4vbGlicy9lbW9qaS1waWNrZXItZWxlbWVudC1kYXRhL3poLUhhbnQvY2xkci9cIixcclxuICAgICAgICAgICAgICAgICAgICAvLyByZW5hbWU6IFwiZGF0YS5qc29uXCIsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNyYzogXCIuL25vZGVfbW9kdWxlcy9lbW9qaS1waWNrZXItZWxlbWVudC1kYXRhL2VuL2NsZHIvZGF0YS5qc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdDogXCIuL2xpYnMvZW1vamktcGlja2VyLWVsZW1lbnQtZGF0YS9lbi9jbGRyL1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbmFtZTogXCJkYXRhLmpzb25cIixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSksXHJcbiAgICBdLFxyXG4gICAgYnVpbGQ6IHtcclxuICAgICAgICByb2xsdXBPcHRpb25zOiB7XHJcbiAgICAgICAgICAgIGlucHV0OiB7XHJcbiAgICAgICAgICAgICAgICBpbmJveDogcmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi9hcHBzL2luYm94Lmh0bWxcIiksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbn0gYXMgVXNlckNvbmZpZztcclxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQWlCQSxPQUFPLGVBQWU7QUFDdEIsU0FBUyxnQkFBQUEscUJBQWdDOzs7QUNEekMsU0FBUyxvQkFBb0I7QUFDN0IsU0FBUyxlQUFlO0FBQ3hCLFNBQVMsY0FBYztBQUN2QixTQUFTLFlBQVk7QUFwQnJCLElBQU0sbUNBQW1DO0FBdUJ6QyxJQUFPLDRCQUFRLGFBQWE7QUFBQSxFQUN4QixNQUFNO0FBQUEsRUFDTixTQUFTO0FBQUEsSUFDTCxPQUFPO0FBQUEsTUFDSCxZQUFZO0FBQUEsUUFDUixPQUFPLEtBQUs7QUFBQSxNQUNoQjtBQUFBLElBQ0osQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFNBQVM7QUFBQSxJQUNMLE9BQU87QUFBQSxNQUNILEtBQUssUUFBUSxrQ0FBVyxJQUFJO0FBQUEsTUFDNUIsS0FBSyxRQUFRLGtDQUFXLE9BQU87QUFBQSxJQUNuQztBQUFBLEVBQ0o7QUFBQSxFQUNBLE9BQU87QUFBQSxJQUNILFFBQVE7QUFBQTtBQUFBLElBRVIsYUFBYTtBQUFBLElBQ2IsZUFBZTtBQUFBLElBQ2YsZUFBZTtBQUFBLE1BQ1gsVUFBVTtBQUFBLFFBQ047QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0EsUUFBUTtBQUFBLFFBQ0osZ0JBQWdCLGVBQWE7QUFFekIsa0JBQVEsVUFBVSxNQUFNO0FBQUEsWUFDcEI7QUFDSSxxQkFBTztBQUFBLFVBQ2Y7QUFBQSxRQUNKO0FBQUEsUUFDQSxnQkFBZ0IsZUFBYTtBQUV6QixrQkFBUSxVQUFVLE1BQU07QUFBQSxZQUNwQjtBQUNJLHFCQUFPO0FBQUEsVUFDZjtBQUFBLFFBQ0o7QUFBQSxRQUNBLGdCQUFnQixlQUFhO0FBRXpCLGtCQUFRLFVBQVUsTUFBTTtBQUFBLFlBQ3BCO0FBQ0kscUJBQU87QUFBQSxVQUNmO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUNKLENBQUM7OztBQ3hERCxPQUEyQjtBQUMzQixTQUFTLFdBQUFDLGdCQUFlO0FBbEJ4QixJQUFNQyxvQ0FBbUM7QUFxQnpDLElBQU8sNkJBQVE7QUFBQSxFQUNYLFNBQVMsQ0FDVDtBQUFBLEVBQ0EsT0FBTztBQUFBLElBQ0gsYUFBYTtBQUFBLElBQ2IsZUFBZTtBQUFBLElBQ2YsS0FBSztBQUFBLE1BQ0QsT0FBT0MsU0FBUUMsbUNBQVcsY0FBYztBQUFBLE1BQ3hDLFVBQVU7QUFBQSxNQUNWLFNBQVMsQ0FBQyxLQUFLO0FBQUEsSUFDbkI7QUFBQSxJQUNBLGVBQWU7QUFBQSxNQUNYLE9BQU87QUFBQSxRQUNILE9BQU9ELFNBQVFDLG1DQUFXLGNBQWM7QUFBQSxNQUM1QztBQUFBLE1BQ0EsUUFBUTtBQUFBLFFBQ0osZ0JBQWdCLGVBQWE7QUFFekIsa0JBQVEsVUFBVSxNQUFNO0FBQUEsWUFDcEIsS0FBSztBQUNELHFCQUFPO0FBQUEsWUFFWDtBQUNJLHFCQUFPO0FBQUEsVUFDZjtBQUFBLFFBQ0o7QUFBQSxRQUNBLGdCQUFnQixlQUFhO0FBRXpCLGtCQUFRLFVBQVUsTUFBTTtBQUFBLFlBQ3BCLEtBQUs7QUFBQSxZQUNMLEtBQUs7QUFDRCxxQkFBTztBQUFBLFlBRVg7QUFDSSxxQkFBTztBQUFBLFVBQ2Y7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0o7OztBQzVDQSxPQUEyQjtBQUMzQixTQUFTLFdBQUFDLGdCQUFlO0FBRXhCLE9BQU8sU0FBUztBQUNoQixTQUFTLHNCQUFzQjtBQXJCL0IsSUFBTUMsb0NBQW1DO0FBd0J6QyxJQUFPLDJCQUFRO0FBQUEsRUFDWCxTQUFTO0FBQUEsSUFDTCxJQUFJO0FBQUEsTUFDQSxVQUFVO0FBQUEsUUFDTixpQkFBaUI7QUFBQTtBQUFBLFVBRWIsaUJBQWlCLFNBQU87QUFFcEIsb0JBQVEsS0FBSztBQUFBLGNBQ1QsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUNELHVCQUFPO0FBQUEsY0FDWDtBQUNJLHVCQUFPO0FBQUEsWUFDZjtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0osQ0FBQztBQUFBLElBQ0QsZUFBZTtBQUFBLE1BQ1gsU0FBUztBQUFBO0FBQUEsUUFFTDtBQUFBLFVBQ0ksS0FBSztBQUFBLFVBQ0wsTUFBTTtBQUFBO0FBQUEsUUFFVjtBQUFBLFFBQ0E7QUFBQSxVQUNJLEtBQUs7QUFBQSxVQUNMLE1BQU07QUFBQTtBQUFBLFFBRVY7QUFBQSxRQUNBO0FBQUEsVUFDSSxLQUFLO0FBQUEsVUFDTCxNQUFNO0FBQUE7QUFBQSxRQUVWO0FBQUEsTUFDSjtBQUFBLElBQ0osQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLE9BQU87QUFBQSxJQUNILGVBQWU7QUFBQSxNQUNYLE9BQU87QUFBQSxRQUNILE9BQU9DLFNBQVFDLG1DQUFXLG1CQUFtQjtBQUFBLE1BQ2pEO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSjs7O0FIOUNBLElBQU8sc0JBQVFDLGNBQWEsT0FBTSxRQUFPO0FBRXJDLE1BQUk7QUFFSixVQUFRLElBQUksTUFBTTtBQUFBLElBQ2QsS0FBSztBQUNELGVBQVMsVUFBVSxJQUFnQixDQUFDLDJCQUFpQix3QkFBYyxDQUFDO0FBQ3BFO0FBQUEsSUFFSixLQUFLO0FBQUEsSUFDTDtBQUNJLGVBQVMsVUFBVSxJQUFnQixDQUFDLDJCQUFpQiwwQkFBZ0IsQ0FBQztBQUN0RTtBQUFBLEVBQ1I7QUFHQSxTQUFPO0FBQ1gsQ0FBQzsiLAogICJuYW1lcyI6IFsiZGVmaW5lQ29uZmlnIiwgInJlc29sdmUiLCAiX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUiLCAicmVzb2x2ZSIsICJfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSIsICJyZXNvbHZlIiwgIl9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lIiwgInJlc29sdmUiLCAiX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUiLCAiZGVmaW5lQ29uZmlnIl0KfQo=
